# Obsidian 书签创建器插件

![CI](https://github.com/dmscode/obsidian-bookmarks/workflows/CI/badge.svg)
![Build and Release](https://github.com/dmscode/obsidian-bookmarks/workflows/Build%20and%20Release/badge.svg)

一个用于创建书签笔记的 Obsidian 插件，可以自动生成网站截图并保存为附件。

## 功能特点

- 🚀 通过命令快速创建书签笔记
- 📸 自动生成网站截图
- 🏷️ 支持标签分类
- 📁 可自定义存储文件夹
- 🎯 自动打开创建的笔记
- 📝 支持添加备注信息

## 安装方法

### 手动安装

1. 下载最新版本的插件文件
2. 将 `manifest.json`、`main.js` 文件复制到你的 Obsidian  vault 的 `.obsidian/plugins/bookmark-creator/` 文件夹中
3. 在 Obsidian 的设置中启用插件

### 开发模式安装

1. 克隆或下载此仓库
2. 在项目目录中运行 `npm install` 安装依赖
3. 运行 `npm run build` 构建插件
4. 将构建好的文件复制到 Obsidian vault 的插件文件夹中

## 使用方法

###  AI 提示词

推荐使用 Kimi 网页版，虽然这导致无法完全自动化，但它可以读取网址并参考网络搜索来构建书签信息。可以将如下提示词保存为常用语：

``````markdown
请根据后续所给出网址指向的网站内容，以及互联网中对该网站的评价，来完善如下书签信息（标题、描述和标签），并以原格式返回，以便我直接替换输入内容。

## 细节要求：

- 其他信息完全保持原样，不要做任何修改
- 如非必要或者专有名词等，尽量使用简体中文
- 如无必要，属性值不加引号
- 生成的结果以代码块形式返回，方便复制
- 标题使用不含描述的简短标题
- 描述着重说明这是一个什么网站，包含什么，用来做什么，这种用来识别网站的关键信息
- 保持 YAML 语法正确（标签列表使用多行格式）
- 首先在下方的网站类别中选择合适的标签，标签格式为 `一级分类/二级分类`
- 对于一个网站一般只添加一次分类标签，如果确实同属于多个分类，可以适当添加，但最多两个分类标签
- 如果类别确实无法覆盖当前网站，可以适当新增类别，但请保持简洁
- 然后为网站补充具有代表性的标签，对网站进行完善标记，标签数量控制在3~7个

## 书签模板：

```markdown
---
created: 
title: 【网站名称】
url:  【网站网址】
description: 【网站描述】
tags: 
    - 【标签1】

    - 【标签2】
    - 【标签3】
---

```


## 例子：

```markdown
---
created: 2025-12-20 09:24:00
title: 小众软件
url: https://www.appinn.com/
description: 专注于分享免费、小巧、实用、有趣、绿色软件的网站，提供Windows、Mac、Android、iOS等平台的软件评测、使用体验和下载信息，发掘并推荐有价值的小众软件
tags: 
    - 软件下载
    - 软件评测
    - 技术博客
    - 免费软件
    - 实用工具
---

```

## 网站类别

- 工作学习
  - 办公软件
  - 开发工具
  - 设计资源
  - 学习平台
  - 文档资料
- 实用工具
  - 搜索引擎
  - 翻译工具
  - 文件处理
  - 系统工具
  - 安全隐私
- 科技数码
  - 产品资讯
  - 软件下载
  - 硬件信息
  - 教程攻略
- 购物消费
  - 电商平台
  - 比价工具
  - 支付服务
  - 购物攻略
- 娱乐影音
  - 视频网站
  - 音乐平台
  - 游戏娱乐
  - 阅读小说
- 新闻资讯
  - 综合新闻
  - 行业资讯
  - 本地信息
- 生活休闲
  - 旅游出行
  - 美食烹饪
  - 健康养生
  - 家居生活
- 社交社区
  - 社交平台
  - 论坛社区
  - 博客平台
- 投资理财
  - 股票基金
  - 财经资讯
  - 理财工具
- 管理维护
  - 待处理
  - 重要备份
  - 历史存档
  - 测试开发
``````

### 问 AI

将要收藏的网址丢给 AI，然后复制生成结果，进行下一步操作

### 创建书签笔记

1. 打开命令面板（Ctrl/Cmd + P）
2. 输入 "创建书签笔记" 并选择命令
3. 在弹出的对话框中按YAML格式输入书签信息：
   ```yaml
   ---
   created: 
   title: 网站标题
   url: https://example.com/
   description: 网站描述
   tags: 
       - 标签1
       - 标签2
   ---
   ```
4. 点击 "创建书签" 按钮

**注意：**
- `created` 字段如果留空，会自动填入当前时间
- `title` 和 `url` 字段为必填项
- `description` 和 `tags` 字段为可选项
- 插件会自动生成网站截图并添加到笔记中

### 插件设置

在 Obsidian 的设置页面中可以配置：

- **书签文件夹**：存储书签笔记的文件夹路径（默认：Bookmarks）
- **附件文件夹**：存储截图的文件夹路径（默认：Attachments）

## 笔记格式

创建的笔记将包含以下内容：

```markdown
---
created: 2023-12-23 08:00:00
title: "网站标题"
url: "https://example.com"
description: "网站描述"
tags: [标签1, 标签2]
---

## 网站截图

screenshot:: ![网站截图](Attachments/网站标题.png)

## 网站笔记

```

## 技术细节

### 截图生成

插件使用 [thum.io](https://thum.io) 服务生成网站截图。截图参数：
- 等待时间：12秒
- 视口宽度：1600px
- 截图宽度：1440px
- 裁剪高度：900px
- 格式：PNG
- 无动画：启用

### 文件命名

- 笔记文件：使用清理后的标题作为文件名
- 截图文件：使用清理后的标题 + `.png` 扩展名

文件名中的非法字符会被替换为下划线。

## 注意事项

1. **截图生成时间**：==由于需要等待网站加载，截图生成可能需要约半分钟的时间==
2. **网络要求**：插件需要网络连接来下载网站截图
3. **文件冲突**：如果同名文件已存在，插件会创建新文件（Obsidian 会自动添加序号）
4. **URL验证**：插件会验证输入的URL格式是否正确

## 故障排除

### 常见问题

1. **截图下载失败**
   - 检查网络连接
   - 确认网站可以正常访问
   - 某些网站可能阻止截图服务

2. **文件夹创建失败**
   - 检查 Obsidian vault 的写入权限
   - 确认文件夹路径设置正确

3. **插件无法启用**
   - 确认所有必需文件都已正确安装
   - 检查 Obsidian 版本是否符合要求（≥0.15.0）

## 开发

### 项目结构

```
obsidian-bookmark-creator/
├── manifest.json          # 插件清单文件
├── main.ts               # 主插件代码
├── tsconfig.json         # TypeScript 配置
├── package.json          # 项目依赖
├── esbuild.config.mjs    # 构建配置
├── versions.json         # 版本信息
└── README.md            # 说明文档
```

### 开发命令

```bash
# 安装依赖
npm install

# 开发模式（监听文件变化）
npm run dev

# 构建生产版本
npm run build
```

## 许可证

MIT License

## 贡献

欢迎提交 Issue 和 Pull Request！

## 更新日志

### 1.0.0
- 初始版本发布
- 支持创建书签笔记
- 自动生成网站截图
- 支持标签和备注功能
- 可自定义存储文件夹
