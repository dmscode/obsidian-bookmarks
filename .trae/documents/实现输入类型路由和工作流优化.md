## 工作思路和要做的事情

基于代码分析，我需要实现一个智能的输入类型检测和路由系统，支持单网址、多网址和YAML三种输入方式。

### 核心实现计划

1. **输入类型检测函数**
   - 创建 `detectInputType()` 函数识别单网址、多网址、YAML格式
   - 使用正则表达式和YAML解析进行准确判断
   - 返回明确的类型标识和处理建议

2. **模态框createBookmark方法完善**
   - 实现完整的路由逻辑，根据输入类型选择不同处理流程
   - 单网址 → 调用 `executeFullWorkflow()`
   - 多网址 → 批量加入等待队列，依次处理
   - YAML → 解析后直接调用 `executeSimpleWorkflow()`

3. **批量处理功能**
   - 扩展等待队列支持批量任务管理
   - 实现异步队列处理，避免同时处理过多任务
   - 添加批量处理状态监控和错误处理

4. **工作流优化**
   - 优化进度显示，支持批量任务进度追踪
   - 改进错误处理，单个任务失败不影响其他任务
   - 添加任务完成通知和统计信息

### 代码结构优化

- 保持现有工作流核心逻辑不变
- 增强输入处理的灵活性和智能性
- 提供更清晰的用户反馈和进度展示

### 测试验证

- 验证三种输入类型的正确处理
- 测试批量处理的稳定性和性能
- 确保错误场景的优雅处理

这个方案将大大提升用户体验，支持更灵活的输入方式，同时保持系统的稳定性和可维护性。